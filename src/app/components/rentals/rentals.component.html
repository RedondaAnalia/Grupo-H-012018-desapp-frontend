<div *ngFor="let r of rentals, let i=index">
  
  <div class="card" style="width: 18rem;">
    <img class="card-img-top" [src]="r.reservation.post.vehicle.photos[0]" alt="Loading...">
    <div class="card-body d-flex flex-column">
        <label class="d-flex justify-content-center" *ngIf="r.rentalState=== 'FinalizedRental'">
            <span class="badge badge-success">
                <i class="fas fa-check"></i>
                Finalizado</span>
        </label>
        <label class="d-flex justify-content-center" *ngIf="r.rentalState=== 'ConfirmedByTheOwner' && url=== '/alquileresDeMisAutos'">
          <span class="badge badge-warning">
              <i class="fas fa-clock"></i>
              Esperando confirmacion de retiro de cliente...
          </span>
        </label>
        <label class="d-flex justify-content-center" *ngIf="r.rentalState=== 'ReturnConfirmedByTheOwner'  && url=== '/alquileresDeMisAutos'">
          <span class="badge badge-warning">
              <i class="fas fa-clock"></i>
            Esperando confirmacion de retorno de cliente...
          </span>
        </label>
        <label class="d-flex justify-content-center" *ngIf="r.rentalState=== 'ConfirmedByTheTenant' && url==='/alquileresDeOtrosAutos'">
          <span class="badge badge-warning">
              <i class="fas fa-clock"></i>
            Esperando confirmacion de retiro del dueño...
          </span>
        </label>
        <label class="d-flex justify-content-center" *ngIf="r.rentalState=== 'ReturnConfirmedByTheTenant' && url==='/alquileresDeOtrosAutos'">
          <span class="badge badge-warning">
              <i class="fas fa-clock"></i>
            Esperando confirmacion de retorno y valuacion del dueño...
          </span>
        </label>
        
      <h5 class="card-title text-center" *ngIf="r.reservation.reservationSinceDate === r.reservation.reservationUntilDate ">{{r.reservation.reservationSinceDate}}</h5>
      <h5 class="card-title text-center" *ngIf="r.reservation.reservationSinceDate !== r.reservation.reservationUntilDate ">{{r.reservation.reservationSinceDate}} a {{r.reservation.reservationUntilDate}} </h5>
      <div class="card-text">
        <!--Botonera!!!!!-->
        <!--OWNER-->
          <div class="" *ngIf="url=== '/alquileresDeMisAutos'">
              <button *ngIf="(r.rentalState=== 'PendingRental') || (r.rentalState==='ConfirmedByTheTenant') " class="btn btn-success" (click)="confirmCarPickUpOwner(r.id,idx)">Confirmar retiro</button>
             
              <div *ngIf="(r.rentalState=== 'PendingReturnRental') || (r.rentalState==='ReturnConfirmedByTheTenant') ">
                  <form [formGroup]="forma" class="form" (ngSubmit)="confirmReturnCarOwner(r.id,idx)">
                    <neutron-rating class="px-2 text-center" (ratingClicked)='onRatingClicked($event)' [rating]="3" [starColour]="'#FDD835'" [starSize]="2"></neutron-rating>
                    <small class="form-text text-muted btn-right">*Obligatorio</small> 
                    <label>Inserte un comentario:</label>
                    <input formControlName="comment" class="form-control">
                    <small class="form-text text-muted btn-right">*Obligatorio</small> 
                    <button type="submit" class="btn btn-success">Confirmar devolucion</button>
                  </form>
              </div>
              
          </div>
          
          <!--Tenant-->
          <div class=""  *ngIf="url==='/alquileresDeOtrosAutos'">
              <button *ngIf="(r.rentalState==='PendingRental') || (r.rentalState==='ConfirmedByTheOwner') " class="btn btn-success" (click)="confirmCarPickUpTenant(r.id,idx)">Confirmar retiro</button>
              <div *ngIf="(r.rentalState=== 'PendingReturnRental') || (r.rentalState==='ReturnConfirmedByTheOwner') ">
                  <form [formGroup]="forma" class="form" (ngSubmit)="confirmReturnCarTenant(r.id,idx)">
                      <neutron-rating class="px-2 text-center" (ratingClicked)='onRatingClicked($event)' [rating]="3" [starColour]="'#FDD835'" [starSize]="2"></neutron-rating>
                      <small class="form-text text-muted btn-right">*Obligatorio</small> 
                      <label>Inserte un comentario:</label>
                      <input formControlName="comment" class="form-control">
                      <small class="form-text text-muted btn-right">*Obligatorio</small> 
                      <button type="submit" class="btn btn-success">Confirmar devolucion</button>
                    </form>
              </div>
              
            </div>
          <!--FIN BOTONERA-->
        </div>
  </div>
</div>
  
  
  
  
  
  
  

  